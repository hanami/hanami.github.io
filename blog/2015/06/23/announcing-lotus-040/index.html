<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Hanami - The web, with simplicity" />
<meta name="keywords" content="hanami,hanamirb,lotus,lotusrb,web,framework,ruby,open source,oss,os,software,free,free software,architecture,fast,lightweight,testing,tdd,bdd,test driven development,behaviour driven development,full stack,mvc,model view object,pattern,patterns,design patterns,oop,object oriented programming,testability,http,https,routing,router,http router,restful,resource,resources,convention,controller,models,repository,query,sql,interactors,two-step view,view,template,presenters,render,rendering,helpers,erb,haml,tilt,json,xml,yaml,yml,framwork,framewrok,riby,free sowftare"/>
<meta name="author" content="Luca Guidi">
<meta content="width=device-width, initial-scale=1.0" name="viewport" />
<link href="/atom.xml" rel="alternate" title="Hanami" type="application/atom+xml" />
<link href="/images/favicon.ico" rel="icon" type="image/ico" />

<title>Hanami | Announcing Lotus v0.4.0</title>

<link href="//fonts.googleapis.com/css?family=Roboto:100,300,400,700" rel="stylesheet">
<link href="//fonts.googleapis.com/css?family=Overpass:200,300,400,700" rel="stylesheet">
<link href="/stylesheets/toolkit-minimal.css" rel="stylesheet" />
<link href="/stylesheets/search.css" rel="stylesheet" />
<link href="/stylesheets/application-minimal.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

    <meta property="og:site_name"   content="Hanami"/>
    <meta property="og:title"       content="Announcing Lotus v0.4.0">
    <meta property="og:url"         content="http://hanamirb.org/blog/2015/06/23/announcing-lotus-040/">
    <meta property="og:description" content="Features: additional architecture, database migrations, HTML5 form helpers, CSRF Protection, Force SSL. New Core Team member, Rails Girls Summer of Code and Guides!">
    <meta property="og:image"       content="http://hanamirb.org/blog/2015/06/23/announcing-lotus-040/cover.jpg">

    <meta name="twitter:card"        content="summary_large_image">
    <meta name="twitter:site"        content="@hanamirb">
    <meta name="twitter:creator"     content="@hanamirb">
    <meta name="twitter:url"         content="http://hanamirb.org/blog/2015/06/23/announcing-lotus-040/">
    <meta name="twitter:title"       content="Announcing Lotus v0.4.0">
    <meta name="twitter:description" content="Features: additional architecture, database migrations, HTML5 form helpers, CSRF Protection, Force SSL. New Core Team member, Rails Girls Summer of Code and Guides!">
    <meta name="twitter:image:src"   content="http://hanamirb.org/blog/2015/06/23/announcing-lotus-040/cover.jpg">
  </head>

  <body>
    <nav id="navigation" class="navbar navbar-default navbar-static-top navbar-padded app-navbar">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed p-x-0" data-toggle="collapse" data-target="#navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="navbar-brand text-uppercase" href="/">
        <span>Hanami</span>
      </a>
    </div>

    <div class="navbar-collapse collapse" id="navbar-collapse">
      <ul class="nav navbar-nav navbar-right text-uppercase">
        <li>
          <a href="https://guides.hanamirb.org" target="_blank">Guides</a>
        </li>
        <li>
          <a href="https://docs.hanamirb.org" target="_blank">API</a>
        </li>
        <li>
          <a href="/community">Community</a>
        </li>
        <li>
          <a href="/donate">Donate</a>
        </li>
        <li>
          <a href="https://github.com/hanami" target="_blank">Source Code</a>
        </li>
        <li>
          <a href="/blog">Blog</a>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div id="hanami2" class="text-xs-center">
  <div class="container">
    <div class="row">
      We're working on <strong>Hanami 2.0</strong>. Read the <a href="/blog/2021/05/04/announcing-hanami-200alpha2/">latest announcement</a> and follow the <a href="https://github.com/hanami/hanami/tree/unstable">progress</a> on GitHub.
    </div>
  </div>
</div>



    <div class="container">
      <div class="block block-inverse text-center">
        <div class="block-foreground">
          <h1 class="block-title">Announcing Lotus v0.4.0</h1>
          <h4 class="text-muted">Posted by <strong>Luca Guidi</strong> on <em>June 23, 2015</em></h4>
          <button class="btn btn-default btn-outline m-t">
            <span class="icon icon-facebook"></span>
            Share
          </button>
          <button class="btn btn-default btn-outline m-t">
            <span class="icon icon-twitter"></span>
            Tweet
          </button>
        </div>
        <div class="block-background">
          <img src="/blog/2015/06/23/announcing-lotus-040/cover.jpg" loading="lazy">
        </div>
      </div>

      <div class="container container-article">
        <div class="row">
          <div class="col-xs-12 col-md-8 col-md-offset-1">
            <p class="lead">Features: additional architecture, database migrations, HTML5 form helpers, CSRF Protection, Force SSL. New Core Team member, Rails Girls Summer of Code and Guides!</p>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-xs-12 col-md-9 col-md-offset-1">
            <div class="article-body">
              <p>Before diving into the details of this release, we want to say <strong>thank you</strong> to our beloved Community.
In a year we went from an initial release with few features and people around Lotus, to a technology that is having an impact on the Ruby ecosystem.</p>

<p>Without you this wouldn&#39;t be possible.</p>

      <h2 id="features" class="title"><a name="features" class="anchor" href="#features">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Features</h2>
    
<p>We have listened to developers who are building applications with Lotus, the most two requested features were migrations and form helpers.
They will be happy about today&#39;s release.</p>

      <h3 id="database-migrations" class="title"><a name="database-migrations" class="anchor" href="#database-migrations">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Database Migrations</h3>
    
<p>Database migrations is a great way to manage schema for SQL storages.
We have introduced a generator for them and a set of shell commands for database operations.</p>
<pre class="highlight shell"><code><span style="color: #555555">% </span>bundle <span style="color: #0086B3">exec </span>lotus generate migration create_books
      create  db/migrations/20150623091551_create_books.rb
</code></pre>

<p>Let&#39;s edit it:</p>
<pre class="highlight ruby"><code><span style="color: #008080">Lotus</span><span style="color: #000000;font-weight: bold">::</span><span style="color: #008080">Model</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">migration</span> <span style="color: #000000;font-weight: bold">do</span>
  <span style="background-color: #f8f8f8">change</span> <span style="color: #000000;font-weight: bold">do</span>
    <span style="background-color: #f8f8f8">create_table</span> <span style="color: #990073">:books</span> <span style="color: #000000;font-weight: bold">do</span>
      <span style="background-color: #f8f8f8">primary_key</span> <span style="color: #990073">:id</span>
      <span style="background-color: #f8f8f8">foreign_key</span> <span style="color: #990073">:author_id</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">:authors</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">on_delete: :cascade</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">null: </span><span style="color: #000000;font-weight: bold">false</span>

      <span style="background-color: #f8f8f8">column</span> <span style="color: #990073">:code</span><span style="background-color: #f8f8f8">,</span>  <span style="color: #008080">String</span><span style="background-color: #f8f8f8">,</span>  <span style="color: #990073">null: </span><span style="color: #000000;font-weight: bold">false</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">unique: </span><span style="color: #000000;font-weight: bold">true</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">size: </span><span style="color: #009999">128</span>
      <span style="background-color: #f8f8f8">column</span> <span style="color: #990073">:title</span><span style="background-color: #f8f8f8">,</span> <span style="color: #008080">String</span><span style="background-color: #f8f8f8">,</span>  <span style="color: #990073">null: </span><span style="color: #000000;font-weight: bold">false</span>
      <span style="background-color: #f8f8f8">column</span> <span style="color: #990073">:price</span><span style="background-color: #f8f8f8">,</span> <span style="color: #008080">Integer</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">null: </span><span style="color: #000000;font-weight: bold">false</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">default: </span><span style="color: #009999">100</span> <span style="color: #999988;font-style: italic"># cents</span>

      <span style="background-color: #f8f8f8">check</span> <span style="background-color: #f8f8f8">{</span> <span style="background-color: #f8f8f8">price</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">0</span> <span style="background-color: #f8f8f8">}</span>
    <span style="color: #000000;font-weight: bold">end</span>
  <span style="color: #000000;font-weight: bold">end</span>
<span style="color: #000000;font-weight: bold">end</span>
</code></pre>

<p>We use an API to define schema changes and how to revert them.
Methods like <code>#create_table</code>, <code>#primary_key</code> or <code>#column</code> are intuitive and feels like natural a translation from SQL to Ruby world.</p>

<p>Then we can create and migrate with <code>lotus db create</code> and <code>lotus db migrate</code>, or use <code>lotus db prepare</code> as a shortcut.</p>

<p><a href="/blog/2015/06/17/introducing-database-migrations.html">Read the full announcement</a>.</p>

      <h3 id="html5-form-helpers" class="title"><a name="html5-form-helpers" class="anchor" href="#html5-form-helpers">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>HTML5 Form Helpers</h3>
    
<p>HTML5 forms helpers are a feature that we&#39;re really proud to ship today.
They are a powerful Ruby API that <strong>doesn&#39;t require to monkey-patch ERb</strong>, they are <strong>template engine independent</strong> and the cleaner code solution for Ruby:</p>

<ul>
<li>Support for complex markup without the need of concatenation</li>
<li>Auto closing HTML5 tags</li>
<li>Support for view local variables</li>
<li>Method override support (<code>PUT</code>/<code>PATCH</code>/<code>DELETE</code> HTTP verbs aren&#39;t understood by browsers)</li>
<li>Automatic generation of HTML attributes for inputs: <code>id</code>, <code>name</code>, <code>value</code></li>
<li>Allow to override automatic HTML attributes</li>
<li>Read values from request params and/or given entities, to autofill <code>value</code> attributes</li>
<li>Automatic selection of current value for radio button and select inputs</li>
<li>CSRF Protection</li>
<li>Infinite nested fields</li>
<li>ORM Agnostic</li>
</ul>

<p>Here an example of form to create a book.</p>
<pre class="highlight erb"><code><span style="color: #999999;font-weight: bold">&lt;%=</span>
  <span style="background-color: #f8f8f8">form_for</span> <span style="color: #990073">:book</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">routes</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">books_path</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">class: </span><span style="color: #d14">'form-horizontal'</span> <span style="color: #000000;font-weight: bold">do</span>
    <span style="background-color: #f8f8f8">div</span> <span style="color: #990073">class: </span><span style="color: #d14">'form-group'</span> <span style="color: #000000;font-weight: bold">do</span>
      <span style="background-color: #f8f8f8">label</span>      <span style="color: #990073">:title</span>
      <span style="background-color: #f8f8f8">text_field</span> <span style="color: #990073">:title</span><span style="background-color: #f8f8f8">,</span> <span style="color: #990073">class: </span><span style="color: #d14">'form-control'</span>
    <span style="color: #000000;font-weight: bold">end</span>

    <span style="background-color: #f8f8f8">submit</span> <span style="color: #d14">'Create'</span>
  <span style="color: #000000;font-weight: bold">end</span>
<span style="color: #999999;font-weight: bold">%&gt;</span>
</code></pre>

<p>It produces:</p>
<pre class="highlight html"><code><span style="color: #000080">&lt;form</span> <span style="color: #008080">action=</span><span style="color: #d14">"/books"</span> <span style="color: #008080">id=</span><span style="color: #d14">"book-form"</span> <span style="color: #008080">method=</span><span style="color: #d14">"POST"</span> <span style="color: #008080">class=</span><span style="color: #d14">"form-horizontal"</span><span style="color: #000080">&gt;</span>
  <span style="color: #000080">&lt;input</span> <span style="color: #008080">type=</span><span style="color: #d14">"hidden"</span> <span style="color: #008080">name=</span><span style="color: #d14">"_csrf_token"</span> <span style="color: #008080">value=</span><span style="color: #d14">"e54fe87c03c8acb84f50826e969df4f00210af315f2e27e064741ecc09155a75"</span><span style="color: #000080">&gt;</span>
  <span style="color: #000080">&lt;div</span> <span style="color: #008080">class=</span><span style="color: #d14">"form-group"</span><span style="color: #000080">&gt;</span>
    <span style="color: #000080">&lt;label</span> <span style="color: #008080">for=</span><span style="color: #d14">"book-title"</span><span style="color: #000080">&gt;</span>Title<span style="color: #000080">&lt;/label&gt;</span>
    <span style="color: #000080">&lt;input</span> <span style="color: #008080">type=</span><span style="color: #d14">"text"</span> <span style="color: #008080">name=</span><span style="color: #d14">"book[title]"</span> <span style="color: #008080">id=</span><span style="color: #d14">"book-title"</span> <span style="color: #008080">value=</span><span style="color: #d14">""</span><span style="color: #000080">&gt;</span>
  <span style="color: #000080">&lt;/div&gt;</span>

  <span style="color: #000080">&lt;button</span> <span style="color: #008080">type=</span><span style="color: #d14">"submit"</span><span style="color: #000080">&gt;</span>Create<span style="color: #000080">&lt;/button&gt;</span>
<span style="color: #000080">&lt;/form&gt;</span>
</code></pre>

<p><a href="/blog/2015/06/15/introducing-form-helpers.html">Read the full announcement</a>.</p>

      <h3 id="application-architecture" class="title"><a name="application-architecture" class="anchor" href="#application-architecture">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Application Architecture</h3>
    
<p>Lotus is a modular web framework that can adapt to different scenarios: <strong>from small HTTP endpoints to large applications</strong>.</p>

<p>We apply a great philosophy called <a href="http://martinfowler.com/bliki/MonolithFirst.html">Monolith First</a>.</p>

<p>With our default architecture called <a href="/guides/architectures/container"><em>Container</em></a>, we can host several Lotus and Rack based apps <strong>within the same Ruby process</strong>.
This helps to have fast code iterations when we develop a new product, without worrying about how it will be deployed.
<strong>Microservices are too expensive at the beginning.</strong></p>

<p>Lotus offers a gentle guidance to build component based softwares.
Each application under <code>apps/</code> can be a customer facing UI, admin pane, HTTP API, metrics, etc..</p>

<p>These modules use their own Ruby namespace, so they are ready to be extracted into separate deliverables at the later stages of our product.</p>

<p>While the scenario depicted above helps to assemble large products, we sometimes have the need to add a small application to our existing environment.
With today release we introduce <strong>a new architecture</strong> called: <a href="/guides/architectures/application"><em>Application</em></a>.</p>
<pre class="highlight shell"><code><span style="color: #555555">% </span>lotus new admin --arch<span style="color: #000000;font-weight: bold">=</span>app
</code></pre>

<p>The command above will generate a new application that has a structure similar to Ruby on Rails.</p>
<pre class="highlight shell"><code><span style="color: #555555">% </span>tree -L 1
.
├── Gemfile
├── Rakefile
├── app
├── config
├── config.ru
├── db
├── lib
├── public
└── spec

6 directories, 3 files
</code></pre>

<p>The main difference here is that we still apply <a href="https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html">Clean Architecture</a> like we do with <em>Container</em>.
That means the core of our application lives in <code>lib/</code>.</p>
<pre class="highlight shell"><code><span style="color: #555555">% </span>tree lib
lib
├── admin
│   ├── entities
│   └── repositories
├── admin.rb
└── config
    └── mapping.rb

4 directories, 2 files
</code></pre>

      <h3 id="security" class="title"><a name="security" class="anchor" href="#security">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Security</h3>
    
<p>Lotus commitment for a secure web continues with the introduction of two new features.</p>

      <h4 id="force-ssl" class="title"><a name="force-ssl" class="anchor" href="#force-ssl">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Force SSL</h4>
    
<p>The first is about SSL.
No one should deploy a product without taking care about the privacy of our users.
Using an encrypted connection is the first step for a safe data transmission.</p>

<p>We now support a mechanism to force secure connections in production environments.</p>
<pre class="highlight ruby"><code><span style="color: #999988;font-style: italic"># apps/web/application.rb</span>
<span style="color: #000000;font-weight: bold">module</span> <span style="color: #555555">Web</span>
  <span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">Application</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="color: #008080">Lotus</span><span style="color: #000000;font-weight: bold">::</span><span style="color: #008080">Application</span>
    <span style="background-color: #f8f8f8">configure</span> <span style="color: #000000;font-weight: bold">do</span>
      <span style="color: #999988;font-style: italic"># ...</span>
      <span style="background-color: #f8f8f8">force_ssl</span> <span style="color: #000000;font-weight: bold">true</span>
    <span style="color: #000000;font-weight: bold">end</span>
  <span style="color: #000000;font-weight: bold">end</span>
<span style="color: #000000;font-weight: bold">end</span>
</code></pre>

      <h4 id="csrf-protection" class="title"><a name="csrf-protection" class="anchor" href="#csrf-protection">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>CSRF Protection</h4>
    
<p>The second is a protection against <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">Cross Site Request Forgery (CSRF)</a> attacks.
This is one of the most common threats for web applications, as of today Lotus apps have a defense mechanism for that.</p>

<p>It&#39;s activated automatically when we enable sessions.</p>

      <h3 id="breaking-changes" class="title"><a name="breaking-changes" class="anchor" href="#breaking-changes">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Breaking Changes</h3>
    
<p>We care <strong>a lot</strong> about the stability of our public APIs, because it involves companies investment on Lotus.
Each breaking change is thoughtfully evaluated and we wait for minor releases like this to make developers aware of them.</p>

<p>Designing a large software like Lotus is hard and <strong>we make mistakes</strong>.
Before hitting 1.0, we want to be sure that we have fixed them.</p>

      <h4 id="environment-configurations" class="title"><a name="environment-configurations" class="anchor" href="#environment-configurations">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Environment Configurations</h4>
    
<p>Until <code>0.3</code> environment configurations (<code>.env</code>) were placed under <code>config/</code> directory.
For compatibility with other tools, now Lotus expects them at the root of the project. See the <a href="https://github.com/lotus/lotus/pull/242">change</a>.</p>

      <h4 id="lotus-interactor" class="title"><a name="lotus-interactor" class="anchor" href="#lotus-interactor">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Lotus::Interactor</h4>
    
<p><code>Lotus::Interactor::Result</code> no longer makes available its instance variables automatically.
We need to explicitly expose them. See the <a href="https://github.com/lotus/utils/pull/80">change</a>.</p>

      <h4 id="pluralized-restful-routes" class="title"><a name="pluralized-restful-routes" class="anchor" href="#pluralized-restful-routes">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Pluralized RESTful Routes</h4>
    
<p>RESTful Routes have now the correct pluralization and singularization for their names. See the <a href="https://github.com/lotus/router/pull/51">change</a>.</p>

      <h2 id="new-core-team-member" class="title"><a name="new-core-team-member" class="anchor" href="#new-core-team-member">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>New Core Team Member</h2>
    
<p>Today we&#39;re pleased to announce that <a href="https://github.com/AlfonsoUceda">Alfonso Uceda</a> is joining our Core Team.</p>

<p>I still remember when a few months ago Alfonso confessed in chat that he never did OSS before, but he wanted to start with Lotus.
It took some time to get the first pull request accepted, but he put all his effort to reach the goal and he&#39;s now a committer.</p>

<p>Alfonso is the proof that you can always start contributing to Open Source.</p>

      <h2 id="rails-girls-summer-of-code" class="title"><a name="rails-girls-summer-of-code" class="anchor" href="#rails-girls-summer-of-code">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Rails Girls Summer of Code</h2>
    
<p>One initiative that we&#39;re actively supporting to let new people to get involved with software development is <a href="http://railsgirlssummerofcode.org/">Rails Girls Summer of Code</a>.</p>

<p>It&#39;s crowdfunded program to let students to be paid for their work in Open Source.
We&#39;re a technology partner and big fans of RGSoC.</p>

<p>It&#39;s gonna be a thrilling summer!</p>

      <h2 id="community" class="title"><a name="community" class="anchor" href="#community">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Community</h2>
    
<p>We strive for an open Community, where <strong>everyone</strong> can feel <strong>safe and accepted</strong>.
We have a <a href="/community">Code of Conduct</a> to handle any eventual controversy, but at the same time we&#39;re proactively leading by example.</p>

<p>However, <strong>we have a problem here</strong>: our Core Team is made of three men.</p>

<p>The lack of diversity worries us, and we recognize it as big problem to fix.
Lotus has still a small Community, but we want to grow it right.</p>

<p>We want to start a new chapter by talking with code charity organizations and individuals who are new to our industry.
We want to hear their stories, we want to listen to their problems and understand how we can help.</p>

<p>As last thing I want to say thank you to all the people who helped with this release: <a href="https://github.com/joneslee85">Trung Lê</a>, <a href="https://github.com/AlfonsoUceda">Alfonso Uceda</a>, <a href="https://github.com/mymai91">My Mai</a>, <a href="https://github.com/hieuk09">Hiếu Nguyễn</a>, <a href="https://github.com/nguyenngoc2505">Ngọc Nguyễn</a>, <a href="https://github.com/tomkadwill">Tom Kadwill</a>, <a href="https://github.com/avdgaag">Arjan van der Gaag</a>, <a href="https://github.com/jeremyf">Jeremy Friesen</a>, <a href="https://github.com/mjbellantoni">Matthew Bellantoni</a> and <a href="https://github.com/g3d">Bohdan V.</a>.</p>

      <h2 id="guides" class="title"><a name="guides" class="anchor" href="#guides">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Guides</h2>
    
<p>During the past months the most common request for new developers were about guides.
Lotus brings new ideas that need to be explained to people who never get exposed to it.</p>

<p>We want to be beginner friendly.
We wrote a new extensive <a href="/guides">section</a> in our website to explain what&#39;s Lotus, what priciples it applies and <a href="/guides/getting-started">how to build the first application</a>.</p>

      <h2 id="conclusion" class="title"><a name="conclusion" class="anchor" href="#conclusion">      <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path>
      </svg>
</a>Conclusion</h2>
    
<p>Lotus can be considered today a good choice to build web applications with Ruby.
We&#39;ll continue to deliver value and new features starting from tomorrow.</p>

<p><a href="/guides/getting-started">Happy hacking</a>.</p>

            </div>

           <hr>

           <a href="https://github.com/hanami/hanami" title="Star on GitHub" target="_blank" class="btn btn-default-outline">
             <span class="icon icon-github"></span>
             Star
           </a>
           <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fhanamirb.org%2Fblog%2F2015%2F06%2F23%2Fannouncing-lotus-040%2F" title="Like on Facebook" class="btn btn-default-outline" target="_blank">
             <span class="icon icon-thumbs-up"></span>
             Like
           </a>
           <a href="https://twitter.com/home?status=Announcing+Lotus+v0.4.0+-+http%3A%2F%2Fhanamirb.org%2Fblog%2F2015%2F06%2F23%2Fannouncing-lotus-040%2F+%2Fvia+%40hanamirb+%23hanamirb" title="Share on Twitter" target="_blank" class="btn btn-default-outline">
             <span class="icon icon-twitter"></span>
             Tweet
           </a>
           <a href="https://news.ycombinator.com/submitlink?u=http%3A%2F%2Fhanamirb.org%2Fblog%2F2015%2F06%2F23%2Fannouncing-lotus-040%2F&t=Announcing Lotus v0.4.0" class="btn btn-default-outline" title="Vote on HackerNews">
             <span class="icon"><strong>HN</strong></span>
             Vote
           </a>
            <a href="http://www.reddit.com/submit?url=http%3A%2F%2Fhanamirb.org%2Fblog%2F2015%2F06%2F23%2Fannouncing-lotus-040%2F" target="_blank" title="Share on Reddit" class="btn btn-default-outline">
             <span class="icon"><strong>R</strong></span>
             Share
            </a>

            <br>
            <br>

            <div class="block block-bordered-lg text-center">
  <div class="container-fluid">
    <p class="lead m-b-md">
    Join a community of over 2,300+ developers.
    </p>
    <form action="https://hanamirb.us3.list-manage.com/subscribe/post" method="POST" class="form-inline">
      <input name="u" value="dcbeefa4ba1ea9ae043857005" type="hidden">
      <input name="id" value="fb3873a90f" type="hidden">
      <input name="orig-lang" value="1" type="hidden">
      <input type="email" class="form-control m-b" placeholder="Email Address" spellcheck="false" autocapitalize="off" autocorrect="off" name="MERGE0" id="MERGE0" value="">
      <button class="btn btn-primary m-b">Subscribe</button>
    </form>
    <small class="text-muted">
      By clicking "Subscribe" I want to subscribe to Hanami mailing list.
    </small>
  </div>
</div>

          </div>
        </div>
      </div>
    </div>

    <div id="lotus" class="text-xs-center">
  <div class="container">
    <div class="row">
      Looking for <strong>Lotus</strong>? We renamed the project and it's now called <strong>Hanami</strong>. Read the <a href="/blog/2016/01/22/lotus-is-now-hanami">announcement</a>.
    </div>
  </div>
</div>


<div class="block app-block-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-2 m-b">
        <ul class="list-unstyled list-spaced">
          <li><h6 class="text-uppercase">Project</h6></li>
          <li><a href="https://github.com/hanami" target="_blank">GitHub</a></li>
          <li><a href="https://twitter.com/hanamirb" target="_blank">Twitter</a></li>
          <li><a href="https://rubygems.org/gems/hanami" target="_blank">Rubygems</a></li>
          <li><a href="/status">Gems Status</a></li>
          <li><a href="/team">Team</a></li>
          <li><a href="/security">Security</a></li>
          <li><a href="/privacy">Privacy Policy</a></li>
          <li><a href="https://guides.hanamirb.org/" target="_blank">Guides</a></li>
          <li><a href="https://docs.hanamirb.org/" target="_blank">Docs</a></li>
        </ul>
      </div>
      <div class="col-sm-2 m-b">
        <ul class="list-unstyled list-spaced">
          <li><h6 class="text-uppercase">Community</h6></li>
          <li><a href="/community#code-of-conduct">Code of Conduct</a></li>
          <li><a href="http://chat.hanamirb.org" target="_blank">Chat</a></li>
          <li><a href="https://discourse.hanamirb.org" target="_blank">Forum</a></li>
          <li><a href="https://stackoverflow.com/questions/tagged/hanami" target="_blank">StackOverflow</a></li>
          <li><a href="/mailing-list">Mailing List</a></li>
          <li><a href="http://awesome-hanami.org" target="_blank">Awesome List</a></li>
          <li><a href="https://www.reddit.com/r/hanamirb/" target="_blank">Reddit</a></li>
          <li><a href="http://contributors.hanamirb.org" target="_blank">Contributors</a></li>
        </ul>
      </div>
      <div class="col-sm-2 m-b">
        <ul class="list-unstyled list-spaced">
          <a href="http://dnsimple.link/resolving-hanami" target="_blank">
            <span>Resolving with<br/></span>
            <img src="https://cdn.dnsimple.com/assets/resolving-with-us/logo-dark.png" alt="DNSimple" style="display:block;margin:0;padding:0;width:100px;" loading="lazy"/>
          </a>
        </ul>
      </div>
      <div class="col-sm-6">
        <h6 class="text-uppercase">About</h6>
        <p>
          Hanami is a web framework for Ruby &mdash; &copy; 2014-2021 <a href="http://lucaguidi.com" target="_blank">Luca Guidi</a>.<br>
          Released under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a>.
          <br><br>
          This project was formerly known as <strong>Lotus</strong>.
        </p>
      </div>
    </div>
  </div>
</div>
<script src="/javascripts/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/toolkit.js" type="text/javascript"></script>
<script src="/javascripts/application.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-47369640-1', 'hanamirb.org');
  ga('send', 'pageview');
</script>

<script>
  ((window.gitter = {}).chat = {}).options = { room: 'hanami/chat' };
</script>
<script src="//sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

  </body>
</html>
